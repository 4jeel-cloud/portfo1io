<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Accessibility testing page for portfolio - WCAG 2.1 AA compliance validation">
    <title>Accessibility Test - Professional Portfolio</title>
    
    <!-- CSS Files -->
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/responsive.css">
    
    <style>
        .accessibility-test-panel {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 350px;
            max-height: 80vh;
            background: var(--color-surface);
            border: 2px solid var(--color-accent);
            border-radius: 8px;
            padding: 1rem;
            z-index: 10000;
            overflow-y: auto;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        
        .test-panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid var(--color-border);
        }
        
        .test-panel-title {
            font-size: 1.1rem;
            font-weight: bold;
            color: var(--color-accent);
        }
        
        .test-panel-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--color-text-secondary);
            padding: 0.25rem;
            border-radius: 4px;
        }
        
        .test-panel-close:hover {
            background: var(--color-gray-200);
        }
        
        .test-controls {
            margin-bottom: 1rem;
        }
        
        .test-btn {
            background: var(--color-accent);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            cursor: pointer;
            margin-right: 0.5rem;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }
        
        .test-btn:hover {
            background: #ea580c;
        }
        
        .test-results {
            font-size: 0.85rem;
            line-height: 1.4;
        }
        
        .test-result {
            margin-bottom: 0.75rem;
            padding: 0.5rem;
            border-radius: 4px;
            border-left: 4px solid;
        }
        
        .test-result.pass {
            background: rgba(34, 197, 94, 0.1);
            border-color: #22c55e;
        }
        
        .test-result.fail {
            background: rgba(239, 68, 68, 0.1);
            border-color: #ef4444;
        }
        
        .test-result.warning {
            background: rgba(245, 158, 11, 0.1);
            border-color: #f59e0b;
        }
        
        .test-result-title {
            font-weight: bold;
            margin-bottom: 0.25rem;
        }
        
        .test-result-issues {
            margin-left: 1rem;
            font-size: 0.8rem;
        }
        
        .test-result-issues li {
            margin-bottom: 0.25rem;
        }
        
        .test-summary {
            background: var(--color-gray-100);
            padding: 0.75rem;
            border-radius: 4px;
            margin-top: 1rem;
            text-align: center;
        }
        
        .accessibility-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 9999;
            display: none;
        }
        
        .accessibility-overlay.active {
            display: block;
        }
        
        /* Focus indicator testing */
        .focus-test-mode *:focus {
            outline: 4px solid #ff0000 !important;
            outline-offset: 2px !important;
        }
        
        /* High contrast testing */
        .high-contrast-mode {
            filter: contrast(200%) !important;
        }
        
        /* Grayscale testing for color dependency */
        .grayscale-mode {
            filter: grayscale(100%) !important;
        }
        
        /* Screen reader only content visibility */
        .sr-test-mode .sr-only {
            position: static !important;
            width: auto !important;
            height: auto !important;
            padding: 0.25rem !important;
            margin: 0.25rem !important;
            overflow: visible !important;
            clip: auto !important;
            white-space: normal !important;
            border: 2px dashed #ff0000 !important;
            background: yellow !important;
            color: black !important;
        }
    </style>
</head>
<body>
    <!-- Accessibility Test Panel -->
    <div class="accessibility-overlay" id="accessibility-overlay"></div>
    <div class="accessibility-test-panel" id="accessibility-panel">
        <div class="test-panel-header">
            <div class="test-panel-title">♿ Accessibility Tests</div>
            <button class="test-panel-close" id="close-panel" aria-label="Close accessibility test panel">×</button>
        </div>
        
        <div class="test-controls">
            <button class="test-btn" id="run-all-tests">Run All Tests</button>
            <button class="test-btn" id="test-focus">Test Focus</button>
            <button class="test-btn" id="test-contrast">High Contrast</button>
            <button class="test-btn" id="test-grayscale">Grayscale</button>
            <button class="test-btn" id="test-sr-content">SR Content</button>
            <button class="test-btn" id="reset-tests">Reset</button>
        </div>
        
        <div class="test-results" id="test-results">
            <p>Click "Run All Tests" to start accessibility validation.</p>
        </div>
    </div>

    <!-- Skip to main content link for keyboard users -->
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <!-- Navigation Header -->
    <header class="header" id="header" role="banner">
        <nav class="nav" role="navigation" aria-label="Main navigation">
            <div class="nav-brand">
                <h1 class="nav-title">Portfolio</h1>
            </div>
            <ul class="nav-menu" id="nav-menu" role="menubar" aria-label="Main menu">
                <li class="nav-item" role="none"><a href="#hero" class="nav-link" role="menuitem" aria-current="false">Home</a></li>
                <li class="nav-item" role="none"><a href="#about" class="nav-link" role="menuitem" aria-current="false">About</a></li>
                <li class="nav-item" role="none"><a href="#summary" class="nav-link" role="menuitem" aria-current="false">Summary</a></li>
                <li class="nav-item" role="none"><a href="#experience" class="nav-link" role="menuitem" aria-current="false">Experience</a></li>
                <li class="nav-item" role="none"><a href="#projects" class="nav-link" role="menuitem" aria-current="false">Projects</a></li>
                <li class="nav-item" role="none"><a href="#skills" class="nav-link" role="menuitem" aria-current="false">Skills</a></li>
                <li class="nav-item" role="none"><a href="#contact" class="nav-link" role="menuitem" aria-current="false">Contact</a></li>
            </ul>
            <button class="theme-toggle" id="theme-toggle" aria-label="Toggle between light and dark theme" aria-pressed="true">
                <span class="theme-toggle-icon" aria-hidden="true">🌙</span>
            </button>
            <button class="nav-toggle" id="nav-toggle" aria-label="Toggle navigation menu" aria-expanded="false" aria-controls="nav-menu">
                <span class="nav-toggle-line" aria-hidden="true"></span>
                <span class="nav-toggle-line" aria-hidden="true"></span>
                <span class="nav-toggle-line" aria-hidden="true"></span>
            </button>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="main" id="main-content" role="main">
        <!-- Hero Section -->
        <section class="section hero" id="hero" aria-labelledby="hero-title">
            <div class="container">
                <div class="hero-content">
                    <h1 class="hero-title" id="hero-title">Your Name</h1>
                    <p class="hero-subtitle" id="hero-subtitle">Cloud Engineer & Cybersecurity Professional</p>
                    <div class="hero-contact" id="hero-contact" role="list" aria-label="Contact information">
                        <a href="mailto:test@example.com" class="contact-link" role="listitem" aria-label="Send email">
                            <span aria-hidden="true">📧</span> Email
                        </a>
                        <a href="#" class="contact-link" role="listitem" target="_blank" rel="noopener noreferrer" aria-label="Visit LinkedIn profile (opens in new tab)">
                            <span aria-hidden="true">💼</span> LinkedIn
                        </a>
                    </div>
                </div>
                <button class="scroll-indicator" aria-label="Scroll to next section" onclick="document.getElementById('about').scrollIntoView({behavior: 'smooth'})">
                    <div class="scroll-arrow" aria-hidden="true"></div>
                    <span class="sr-only">Scroll down to About section</span>
                </button>
            </div>
        </section>

        <!-- About Section -->
        <section class="section about" id="about" aria-labelledby="about-title">
            <div class="container">
                <h2 class="section-title" id="about-title">About Me</h2>
                <div class="about-content">
                    <div class="about-image">
                        <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDMwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIzMDAiIGhlaWdodD0iMzAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxjaXJjbGUgY3g9IjE1MCIgY3k9IjEyMCIgcj0iNDAiIGZpbGw9IiM5Q0EzQUYiLz4KPHBhdGggZD0iTTEwMCAyMDBDMTAwIDE3Mi4zODYgMTIyLjM4NiAxNTAgMTUwIDE1MFMyMDAgMTcyLjM4NiAyMDAgMjAwVjI1MEgxMDBWMjAwWiIgZmlsbD0iIzlDQTNBRiIvPgo8L3N2Zz4K" 
                             alt="Professional headshot placeholder" 
                             class="headshot" 
                             loading="lazy">
                    </div>
                    <div class="about-text" role="region" aria-label="Personal biography">
                        <p>Passionate about cloud engineering and cybersecurity with a focus on building secure, scalable solutions. I enjoy tackling complex technical challenges and staying current with emerging technologies in the cloud and security landscape.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Summary Section -->
        <section class="section summary" id="summary" aria-labelledby="summary-title">
            <div class="container">
                <h2 class="section-title" id="summary-title">Professional Summary</h2>
                <div class="summary-content" role="region" aria-label="Professional summary and key strengths">
                    <p class="summary-paragraph">Experienced professional specializing in <span class="keyword-highlight">Cloud</span>, <span class="keyword-highlight">Cybersecurity</span>, <span class="keyword-highlight">AI</span>, and <span class="keyword-highlight">API development</span>. Dedicated to creating innovative solutions that drive <span class="keyword-highlight">business success</span> while maintaining the highest security standards.</p>
                </div>
            </div>
        </section>

        <!-- Contact Section -->
        <section class="section contact" id="contact" aria-labelledby="contact-title">
            <div class="container">
                <h2 class="section-title" id="contact-title">Get In Touch</h2>
                <div class="contact-content" role="region" aria-label="Contact information and links">
                    <p class="contact-message">Thank you for visiting my portfolio!</p>
                    <div class="contact-links" role="list" aria-label="Contact methods">
                        <a href="mailto:test@example.com" class="contact-link" role="listitem" aria-label="Send email">
                            <span class="contact-icon" aria-hidden="true">→</span>
                            <span class="contact-text">test@example.com</span>
                        </a>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- JavaScript Files -->
    <script src="js/types.js"></script>
    <script src="js/data.js"></script>
    <script src="js/navigation.js"></script>
    <script src="js/animations.js"></script>
    <script src="js/accessibility.test.js"></script>
    
    <script>
        // Accessibility Test Panel Controller
        class AccessibilityTestController {
            constructor() {
                this.panel = document.getElementById('accessibility-panel');
                this.overlay = document.getElementById('accessibility-overlay');
                this.resultsContainer = document.getElementById('test-results');
                this.tester = new AccessibilityTester();
                
                this.initializeControls();
            }
            
            initializeControls() {
                // Close panel
                document.getElementById('close-panel').addEventListener('click', () => {
                    this.hidePanel();
                });
                
                // Run all tests
                document.getElementById('run-all-tests').addEventListener('click', () => {
                    this.runAllTests();
                });
                
                // Focus test
                document.getElementById('test-focus').addEventListener('click', () => {
                    this.toggleFocusTest();
                });
                
                // High contrast test
                document.getElementById('test-contrast').addEventListener('click', () => {
                    this.toggleHighContrast();
                });
                
                // Grayscale test
                document.getElementById('test-grayscale').addEventListener('click', () => {
                    this.toggleGrayscale();
                });
                
                // Screen reader content test
                document.getElementById('test-sr-content').addEventListener('click', () => {
                    this.toggleScreenReaderContent();
                });
                
                // Reset tests
                document.getElementById('reset-tests').addEventListener('click', () => {
                    this.resetTests();
                });
                
                // Close on overlay click
                this.overlay.addEventListener('click', () => {
                    this.hidePanel();
                });
                
                // Keyboard support
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape') {
                        this.hidePanel();
                    }
                    
                    // Alt + A to toggle panel
                    if (e.altKey && e.key === 'a') {
                        e.preventDefault();
                        this.togglePanel();
                    }
                });
            }
            
            showPanel() {
                this.panel.style.display = 'block';
                this.overlay.classList.add('active');
                document.getElementById('close-panel').focus();
            }
            
            hidePanel() {
                this.panel.style.display = 'none';
                this.overlay.classList.remove('active');
            }
            
            togglePanel() {
                if (this.panel.style.display === 'none') {
                    this.showPanel();
                } else {
                    this.hidePanel();
                }
            }
            
            async runAllTests() {
                this.resultsContainer.innerHTML = '<p>Running accessibility tests...</p>';
                
                // Wait a moment for any dynamic content
                await new Promise(resolve => setTimeout(resolve, 500));
                
                const results = await this.tester.runAllTests();
                this.displayResults(results);
            }
            
            displayResults(results) {
                let html = '';
                let passedCount = 0;
                
                results.forEach(test => {
                    const status = test.passed ? 'pass' : 'fail';
                    const icon = test.passed ? '✅' : '❌';
                    
                    if (test.passed) passedCount++;
                    
                    html += `
                        <div class="test-result ${status}">
                            <div class="test-result-title">${icon} ${test.name}</div>
                    `;
                    
                    if (test.issues && test.issues.length > 0) {
                        html += '<ul class="test-result-issues">';
                        test.issues.forEach(issue => {
                            html += `<li>❌ ${issue}</li>`;
                        });
                        html += '</ul>';
                    }
                    
                    if (test.warnings && test.warnings.length > 0) {
                        html += '<ul class="test-result-issues">';
                        test.warnings.forEach(warning => {
                            html += `<li>⚠️ ${warning}</li>`;
                        });
                        html += '</ul>';
                    }
                    
                    html += '</div>';
                });
                
                // Add summary
                const successRate = Math.round((passedCount / results.length) * 100);
                html += `
                    <div class="test-summary">
                        <strong>Summary:</strong><br>
                        ${passedCount}/${results.length} tests passed<br>
                        Success Rate: ${successRate}%
                    </div>
                `;
                
                this.resultsContainer.innerHTML = html;
            }
            
            toggleFocusTest() {
                document.body.classList.toggle('focus-test-mode');
                const isActive = document.body.classList.contains('focus-test-mode');
                
                if (isActive) {
                    this.showNotification('Focus indicators highlighted in red');
                } else {
                    this.showNotification('Focus test mode disabled');
                }
            }
            
            toggleHighContrast() {
                document.body.classList.toggle('high-contrast-mode');
                const isActive = document.body.classList.contains('high-contrast-mode');
                
                if (isActive) {
                    this.showNotification('High contrast mode enabled');
                } else {
                    this.showNotification('High contrast mode disabled');
                }
            }
            
            toggleGrayscale() {
                document.body.classList.toggle('grayscale-mode');
                const isActive = document.body.classList.contains('grayscale-mode');
                
                if (isActive) {
                    this.showNotification('Grayscale mode enabled - check for color dependency');
                } else {
                    this.showNotification('Grayscale mode disabled');
                }
            }
            
            toggleScreenReaderContent() {
                document.body.classList.toggle('sr-test-mode');
                const isActive = document.body.classList.contains('sr-test-mode');
                
                if (isActive) {
                    this.showNotification('Screen reader content visible (red dashed borders)');
                } else {
                    this.showNotification('Screen reader content hidden');
                }
            }
            
            resetTests() {
                document.body.classList.remove('focus-test-mode', 'high-contrast-mode', 'grayscale-mode', 'sr-test-mode');
                this.resultsContainer.innerHTML = '<p>All test modes reset. Click "Run All Tests" to validate accessibility.</p>';
                this.showNotification('All test modes reset');
            }
            
            showNotification(message) {
                // Create temporary notification
                const notification = document.createElement('div');
                notification.style.cssText = `
                    position: fixed;
                    top: 20px;
                    left: 50%;
                    transform: translateX(-50%);
                    background: var(--color-accent);
                    color: white;
                    padding: 0.75rem 1.5rem;
                    border-radius: 4px;
                    z-index: 10001;
                    font-size: 0.9rem;
                `;
                notification.textContent = message;
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    notification.remove();
                }, 3000);
            }
        }
        
        // Initialize accessibility test controller
        document.addEventListener('DOMContentLoaded', () => {
            new AccessibilityTestController();
            
            // Show instructions
            console.log('🔍 Accessibility Testing Available:');
            console.log('- Press Alt+A to toggle test panel');
            console.log('- Use the test panel to run accessibility validations');
            console.log('- Tests include WCAG 2.1 AA compliance checks');
        });
    </script>
</body>
</html>