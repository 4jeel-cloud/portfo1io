<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Navigation Test - Professional Portfolio</title>
    
    <!-- CSS Files -->
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/responsive.css">
    
    <style>
        /* Additional test styles */
        .test-section {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            font-weight: bold;
            border-bottom: 2px solid var(--color-gray-200);
        }
        
        .test-section:nth-child(odd) {
            background-color: var(--color-gray-50);
        }
        
        .test-controls {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--color-secondary);
            padding: var(--space-4);
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            z-index: 1001;
        }
        
        .test-controls h3 {
            margin-bottom: var(--space-3);
            font-size: var(--font-size-body);
        }
        
        .test-controls button {
            display: block;
            width: 100%;
            margin-bottom: var(--space-2);
            padding: var(--space-2) var(--space-3);
            background: var(--color-accent);
            color: var(--color-secondary);
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: var(--font-size-small);
        }
        
        .test-controls button:hover {
            background: #ea580c;
        }
        
        .test-status {
            margin-top: var(--space-3);
            padding: var(--space-2);
            background: var(--color-gray-100);
            border-radius: 4px;
            font-size: var(--font-size-small);
        }
        
        @media (max-width: 767px) {
            .test-controls {
                bottom: 10px;
                right: 10px;
                left: 10px;
                padding: var(--space-3);
            }
        }
    </style>
</head>
<body>
    <!-- Navigation Header -->
    <header class="header" id="header">
        <nav class="nav">
            <div class="nav-brand">
                <h1 class="nav-title">Portfolio</h1>
            </div>
            <ul class="nav-menu" id="nav-menu">
                <li class="nav-item"><a href="#hero" class="nav-link">Home</a></li>
                <li class="nav-item"><a href="#about" class="nav-link">About</a></li>
                <li class="nav-item"><a href="#summary" class="nav-link">Summary</a></li>
                <li class="nav-item"><a href="#experience" class="nav-link">Experience</a></li>
                <li class="nav-item"><a href="#projects" class="nav-link">Projects</a></li>
                <li class="nav-item"><a href="#skills" class="nav-link">Skills</a></li>
                <li class="nav-item"><a href="#contact" class="nav-link">Contact</a></li>
            </ul>
            <button class="nav-toggle" id="nav-toggle" aria-label="Toggle navigation">
                <span class="nav-toggle-line"></span>
                <span class="nav-toggle-line"></span>
                <span class="nav-toggle-line"></span>
            </button>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="main">
        <!-- Test Sections -->
        <section class="section test-section" id="hero">
            <div class="container">
                <h2>Hero Section</h2>
                <p>Test smooth scrolling and scroll spy functionality</p>
            </div>
        </section>

        <section class="section test-section" id="about">
            <div class="container">
                <h2>About Section</h2>
                <p>Watch the navigation highlight change as you scroll</p>
            </div>
        </section>

        <section class="section test-section" id="summary">
            <div class="container">
                <h2>Summary Section</h2>
                <p>Test mobile menu functionality on smaller screens</p>
            </div>
        </section>

        <section class="section test-section" id="experience">
            <div class="container">
                <h2>Experience Section</h2>
                <p>Header should hide/show based on scroll direction</p>
            </div>
        </section>

        <section class="section test-section" id="projects">
            <div class="container">
                <h2>Projects Section</h2>
                <p>Test keyboard navigation with Tab and Arrow keys</p>
            </div>
        </section>

        <section class="section test-section" id="skills">
            <div class="container">
                <h2>Skills Section</h2>
                <p>All navigation features should be accessible</p>
            </div>
        </section>

        <section class="section test-section" id="contact">
            <div class="container">
                <h2>Contact Section</h2>
                <p>Navigation testing complete!</p>
            </div>
        </section>
    </main>

    <!-- Test Controls -->
    <div class="test-controls">
        <h3>Navigation Tests</h3>
        <button onclick="runNavigationTests()">Run All Tests</button>
        <button onclick="testMobileMenu()">Test Mobile Menu</button>
        <button onclick="testScrollSpy()">Test Scroll Spy</button>
        <button onclick="testKeyboardNav()">Test Keyboard Nav</button>
        <button onclick="testAccessibility()">Test Accessibility</button>
        <div class="test-status" id="test-status">
            Ready to test navigation functionality
        </div>
    </div>

    <!-- JavaScript Files -->
    <script src="js/navigation.js"></script>
    <script src="js/navigation.test.js"></script>
    
    <script>
        // Test helper functions
        function updateTestStatus(message) {
            document.getElementById('test-status').textContent = message;
        }
        
        function testMobileMenu() {
            updateTestStatus('Testing mobile menu...');
            const navToggle = document.getElementById('nav-toggle');
            const navMenu = document.getElementById('nav-menu');
            
            // Simulate mobile view
            const originalWidth = window.innerWidth;
            Object.defineProperty(window, 'innerWidth', { value: 600, configurable: true });
            
            navToggle.click();
            
            setTimeout(() => {
                if (navMenu.classList.contains('active')) {
                    updateTestStatus('✅ Mobile menu opens correctly');
                    navToggle.click(); // Close menu
                } else {
                    updateTestStatus('❌ Mobile menu failed to open');
                }
                
                // Restore original width
                Object.defineProperty(window, 'innerWidth', { value: originalWidth, configurable: true });
            }, 100);
        }
        
        function testScrollSpy() {
            updateTestStatus('Testing scroll spy...');
            
            // Scroll to about section
            const aboutSection = document.getElementById('about');
            aboutSection.scrollIntoView({ behavior: 'smooth' });
            
            setTimeout(() => {
                const aboutLink = document.querySelector('a[href="#about"]');
                if (aboutLink.classList.contains('active')) {
                    updateTestStatus('✅ Scroll spy working correctly');
                } else {
                    updateTestStatus('❌ Scroll spy not updating active link');
                }
            }, 1000);
        }
        
        function testKeyboardNav() {
            updateTestStatus('Testing keyboard navigation...');
            
            const firstNavLink = document.querySelector('.nav-link');
            firstNavLink.focus();
            
            // Simulate arrow key press
            const arrowEvent = new KeyboardEvent('keydown', { key: 'ArrowDown' });
            firstNavLink.dispatchEvent(arrowEvent);
            
            updateTestStatus('✅ Keyboard navigation events dispatched (check console for details)');
        }
        
        function testAccessibility() {
            updateTestStatus('Testing accessibility features...');
            
            const navToggle = document.getElementById('nav-toggle');
            const navMenu = document.getElementById('nav-menu');
            const navLinks = document.querySelectorAll('.nav-link');
            
            let accessibilityScore = 0;
            let totalChecks = 0;
            
            // Check ARIA attributes
            if (navToggle.hasAttribute('aria-expanded')) accessibilityScore++;
            totalChecks++;
            
            if (navToggle.hasAttribute('aria-label')) accessibilityScore++;
            totalChecks++;
            
            if (navMenu.hasAttribute('aria-hidden')) accessibilityScore++;
            totalChecks++;
            
            navLinks.forEach(link => {
                if (link.hasAttribute('aria-current')) accessibilityScore++;
                totalChecks++;
            });
            
            const percentage = Math.round((accessibilityScore / totalChecks) * 100);
            updateTestStatus(`✅ Accessibility: ${percentage}% of checks passed (${accessibilityScore}/${totalChecks})`);
        }
        
        // Auto-run basic tests on load
        document.addEventListener('DOMContentLoaded', () => {
            setTimeout(() => {
                updateTestStatus('Navigation loaded successfully. Try the test buttons!');
            }, 500);
        });
        
        // Add scroll position indicator
        window.addEventListener('scroll', () => {
            const scrollPercent = Math.round((window.scrollY / (document.body.scrollHeight - window.innerHeight)) * 100);
            document.title = `Navigation Test - ${scrollPercent}% scrolled`;
        });
    </script>
</body>
</html>