<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projects Component Test</title>

    <!-- CSS Files -->
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/responsive.css">

    <style>
        body {
            margin: 0;
            padding: var(--space-4);
            background-color: var(--color-gray-50);
        }

        .test-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .test-header {
            text-align: center;
            margin-bottom: var(--space-8);
            padding: var(--space-6);
            background-color: var(--color-secondary);
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .test-section {
            margin-bottom: var(--space-8);
        }

        .test-controls {
            background-color: var(--color-secondary);
            padding: var(--space-4);
            border-radius: 8px;
            margin-bottom: var(--space-6);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .test-controls h3 {
            margin-top: 0;
            color: var(--color-primary);
        }

        .test-btn {
            background-color: var(--color-accent);
            color: white;
            border: none;
            padding: var(--space-2) var(--space-4);
            border-radius: 4px;
            cursor: pointer;
            margin: var(--space-1);
            font-size: 14px;
            transition: background-color 0.2s ease;
        }

        .test-btn:hover {
            background-color: var(--color-accent-dark);
        }

        .test-btn:disabled {
            background-color: var(--color-gray-400);
            cursor: not-allowed;
        }
    </style>
</head>

<body>
    <div class="test-container">
        <div class="test-header">
            <h1>Projects Component Test</h1>
            <p>Testing the projects section functionality and display</p>
        </div>

        <div class="test-section">
            <div class="test-controls">
                <h3>Test Controls</h3>
                <button class="test-btn" onclick="loadTestData()">Load Test Data</button>
                <button class="test-btn" onclick="testFiltering()">Test Filtering</button>
                <button class="test-btn" onclick="testProjectCards()">Test Project Cards</button>
                <button class="test-btn" onclick="clearProjects()">Clear Projects</button>
            </div>

            <!-- Projects Section -->
            <section class="section projects" id="projects">
                <div class="container">
                    <h2 class="section-title">Featured Projects</h2>
                    <div class="projects-grid" id="projects-grid">
                        <p>Click "Load Test Data" to populate projects...</p>
                    </div>
                </div>
            </section>
        </div>

        <div class="test-section">
            <div class="test-controls">
                <h3>Test Results</h3>
                <div id="test-results">
                    <p>No tests run yet.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript Files -->
    <script src="js/types.js"></script>
    <script src="js/data.js"></script>
    <script src="js/main.js"></script>

    <script>
        // Test data for projects
        const testProjectsData = [
            {
                id: "proj1",
                title: "Cloud Security Platform",
                description: "A comprehensive security monitoring platform for cloud infrastructure that provides real-time threat detection and automated incident response.",
                tools: ["AWS", "Python", "React", "Docker", "Elasticsearch"],
                outcomes: [
                    "Reduced security incidents by 40% through proactive monitoring",
                    "Automated threat detection and response workflows",
                    "Achieved SOC 2 compliance for multiple client environments"
                ],
                images: ["images/projects/security-platform.jpg"],
                links: [
                    { name: "GitHub", url: "https://github.com/example/security-platform" },
                    { name: "Live Demo", url: "https://security-platform-demo.com" }
                ]
            },
            {
                id: "proj2",
                title: "Infrastructure as Code Framework",
                description: "A reusable Terraform framework for deploying secure, scalable cloud infrastructure with built-in compliance and monitoring capabilities.",
                tools: ["Terraform", "AWS", "Python", "GitHub Actions", "Ansible"],
                outcomes: [
                    "Reduced infrastructure deployment time from days to hours",
                    "Standardized security configurations across all environments",
                    "Enabled consistent infrastructure management for 20+ projects"
                ],
                images: ["images/projects/iac-framework.jpg"],
                links: [
                    { name: "GitHub", url: "https://github.com/example/iac-framework" },
                    { name: "Documentation", url: "https://iac-framework-docs.com" }
                ]
            },
            {
                id: "proj3",
                title: "API Security Gateway",
                description: "A high-performance API gateway with advanced security features including rate limiting, authentication, and real-time threat protection.",
                tools: ["Go", "Redis", "PostgreSQL", "Docker", "Kubernetes"],
                outcomes: [
                    "Processed 1M+ API requests per day with 99.9% uptime",
                    "Blocked 15,000+ malicious requests through intelligent filtering",
                    "Reduced API response time by 25% through optimized routing"
                ],
                images: ["images/projects/api-gateway.jpg"],
                links: [
                    { name: "GitHub", url: "https://github.com/example/api-gateway" }
                ]
            }
        ];

        // Test functions
        function loadTestData() {
            if (window.portfolioApp && window.portfolioApp.createProjectsComponent) {
                const projectsSection = document.getElementById('projects');
                window.portfolioApp.createProjectsComponent(projectsSection, testProjectsData);
                addTestResult('âœ“ Test data loaded successfully');
            } else {
                // Fallback: create projects manually
                createProjectsManually();
                addTestResult('âœ“ Test data loaded (fallback method)');
            }
        }

        function createProjectsManually() {
            const projectsGrid = document.getElementById('projects-grid');
            
            const projectsHTML = testProjectsData.map(project => `
                <article class="project-card" data-technologies="${project.tools.join(',').toLowerCase()}">
                    <div class="project-image-container">
                        <div class="project-image project-image-fallback">
                            <div class="fallback-icon">ðŸ’»</div>
                            <div class="fallback-text">Project</div>
                        </div>
                    </div>
                    
                    <div class="project-content">
                        <h3 class="project-title">${project.title}</h3>
                        <p class="project-description">${project.description}</p>
                        
                        <div class="project-tools">
                            ${project.tools.map(tool => `<span class="tool-tag">${tool}</span>`).join('')}
                        </div>
                        
                        <div class="project-outcomes">
                            <h4 class="outcomes-title">Key Outcomes</h4>
                            <ul class="outcomes-list">
                                ${project.outcomes.map(outcome => `<li>${outcome}</li>`).join('')}
                            </ul>
                        </div>
                        
                        <div class="project-links">
                            ${project.links.map(link => `
                                <a href="${link.url}" class="project-link" target="_blank" rel="noopener noreferrer">
                                    ${link.name}
                                </a>
                            `).join('')}
                        </div>
                    </div>
                </article>
            `).join('');
            
            projectsGrid.innerHTML = projectsHTML;
        }

        function testFiltering() {
            const projectCards = document.querySelectorAll('.project-card');
            if (projectCards.length === 0) {
                addTestResult('âœ— No project cards found. Load test data first.');
                return;
            }

            // Test filtering by technology
            const awsProjects = Array.from(projectCards).filter(card => 
                card.dataset.technologies.includes('aws')
            );
            
            if (awsProjects.length > 0) {
                addTestResult(`âœ“ Found ${awsProjects.length} AWS projects`);
            } else {
                addTestResult('âœ— No AWS projects found');
            }

            // Test tool tags
            const toolTags = document.querySelectorAll('.tool-tag');
            if (toolTags.length > 0) {
                addTestResult(`âœ“ Found ${toolTags.length} technology tags`);
            } else {
                addTestResult('âœ— No technology tags found');
            }
        }

        function testProjectCards() {
            const projectCards = document.querySelectorAll('.project-card');
            if (projectCards.length === 0) {
                addTestResult('âœ— No project cards found. Load test data first.');
                return;
            }

            let passedTests = 0;
            let totalTests = 0;

            projectCards.forEach((card, index) => {
                totalTests += 4; // 4 tests per card

                // Test 1: Title exists
                const title = card.querySelector('.project-title');
                if (title && title.textContent.trim()) {
                    passedTests++;
                } else {
                    addTestResult(`âœ— Project ${index + 1}: Missing or empty title`);
                }

                // Test 2: Description exists
                const description = card.querySelector('.project-description');
                if (description && description.textContent.trim()) {
                    passedTests++;
                } else {
                    addTestResult(`âœ— Project ${index + 1}: Missing or empty description`);
                }

                // Test 3: Tools exist
                const tools = card.querySelectorAll('.tool-tag');
                if (tools.length > 0) {
                    passedTests++;
                } else {
                    addTestResult(`âœ— Project ${index + 1}: No technology tags found`);
                }

                // Test 4: Outcomes exist
                const outcomes = card.querySelectorAll('.outcomes-list li');
                if (outcomes.length > 0) {
                    passedTests++;
                } else {
                    addTestResult(`âœ— Project ${index + 1}: No outcomes found`);
                }
            });

            addTestResult(`âœ“ Project cards test: ${passedTests}/${totalTests} tests passed`);
        }

        function clearProjects() {
            const projectsGrid = document.getElementById('projects-grid');
            projectsGrid.innerHTML = '<p>Projects cleared. Click "Load Test Data" to reload.</p>';
            addTestResult('âœ“ Projects cleared');
        }

        function addTestResult(message) {
            const resultsDiv = document.getElementById('test-results');
            const resultP = document.createElement('p');
            resultP.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
            
            if (message.includes('âœ“')) {
                resultP.style.color = 'green';
            } else if (message.includes('âœ—')) {
                resultP.style.color = 'red';
            }
            
            resultsDiv.appendChild(resultP);
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', () => {
            addTestResult('Projects test page loaded');
        });
    </script>
</body>

</html>