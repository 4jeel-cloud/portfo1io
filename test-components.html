<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Component Tests - Portfolio</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/responsive.css">
    <style>
        .test-results {
            background: var(--color-gray-50);
            padding: var(--space-6);
            border-radius: 8px;
            margin: var(--space-8) 0;
            font-family: 'Courier New', monospace;
            font-size: var(--font-size-small);
            line-height: 1.6;
            white-space: pre-wrap;
            overflow-x: auto;
        }
        .test-header {
            text-align: center;
            padding: var(--space-8) 0;
        }
        .test-actions {
            text-align: center;
            margin: var(--space-6) 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="test-header">
            <h1 class="typography-h1">UI Component Tests</h1>
            <p class="typography-body-large typography-muted">Automated testing for foundational design system components</p>
        </div>

        <div class="test-actions">
            <button id="runTests" class="btn btn-primary">Run Component Tests</button>
            <button id="clearResults" class="btn btn-secondary">Clear Results</button>
            <a href="component-showcase.html" class="btn btn-accent">View Component Showcase</a>
        </div>

        <div id="testResults" class="test-results" style="display: none;">
            <div id="testOutput"></div>
        </div>

        <div class="card" style="margin: var(--space-8) 0;">
            <div class="card-body">
                <h3 class="card-title">Test Coverage</h3>
                <p class="card-text">This test suite validates the following components:</p>
                <ul style="margin: var(--space-4) 0; padding-left: var(--space-6);">
                    <li><strong>Typography Components:</strong> Display, headings, body text, and modifiers</li>
                    <li><strong>Button Components:</strong> Primary, secondary, accent variants and sizes</li>
                    <li><strong>Card Components:</strong> Basic cards, elevated cards, headers, and footers</li>
                    <li><strong>Layout Components:</strong> Grid system, stack components, and containers</li>
                    <li><strong>Tag Components:</strong> Basic tags, variants, and sizes</li>
                    <li><strong>Responsive Components:</strong> Mobile-first responsive behavior</li>
                    <li><strong>Accessibility Features:</strong> Focus styles and screen reader support</li>
                </ul>
            </div>
        </div>

        <div class="grid grid-cols-2 grid-gap-6" style="margin: var(--space-8) 0;">
            <div class="card">
                <div class="card-body">
                    <h3 class="card-title">Requirements Coverage</h3>
                    <div class="stack stack-gap-2">
                        <span class="tag tag-accent">1.3 - Visual Design</span>
                        <span class="tag tag-accent">1.4 - Color Palette</span>
                        <span class="tag tag-accent">2.3 - Navigation Styling</span>
                        <span class="tag tag-accent">4.4 - Summary Formatting</span>
                        <span class="tag tag-accent">5.3 - Experience Cards</span>
                        <span class="tag tag-accent">6.4 - Project Cards</span>
                        <span class="tag tag-accent">7.3 - Skills Organization</span>
                        <span class="tag tag-accent">8.3 - Contact Styling</span>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <div class="card-body">
                    <h3 class="card-title">Design System Features</h3>
                    <div class="stack stack-gap-2">
                        <span class="tag">Typography Scale</span>
                        <span class="tag">Color Variables</span>
                        <span class="tag">Spacing System</span>
                        <span class="tag">Component Library</span>
                        <span class="tag">Responsive Design</span>
                        <span class="tag">Accessibility</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="js/components.test.js"></script>
    <script>
        // Override console.log to capture test output
        const originalLog = console.log;
        const originalAssert = console.assert;
        let testOutput = [];

        function captureOutput() {
            testOutput = [];
            console.log = function(...args) {
                testOutput.push(args.join(' '));
                originalLog.apply(console, args);
            };
            console.assert = function(condition, message) {
                if (!condition) {
                    testOutput.push(message);
                }
                originalAssert.apply(console, arguments);
            };
        }

        function restoreOutput() {
            console.log = originalLog;
            console.assert = originalAssert;
        }

        function displayResults() {
            const resultsDiv = document.getElementById('testResults');
            const outputDiv = document.getElementById('testOutput');
            
            resultsDiv.style.display = 'block';
            outputDiv.textContent = testOutput.join('\n');
            
            // Scroll to results
            resultsDiv.scrollIntoView({ behavior: 'smooth' });
        }

        // Manual test runner
        document.getElementById('runTests').addEventListener('click', function() {
            captureOutput();
            
            // Remove the auto-run listener to prevent double execution
            document.removeEventListener('DOMContentLoaded', runComponentTests);
            
            // Run tests manually
            runComponentTests();
            
            setTimeout(() => {
                restoreOutput();
                displayResults();
            }, 100);
        });

        document.getElementById('clearResults').addEventListener('click', function() {
            const resultsDiv = document.getElementById('testResults');
            const outputDiv = document.getElementById('testOutput');
            
            resultsDiv.style.display = 'none';
            outputDiv.textContent = '';
            testOutput = [];
        });

        // Prevent auto-run on this page
        document.removeEventListener('DOMContentLoaded', runComponentTests);
    </script>
</body>
</html>