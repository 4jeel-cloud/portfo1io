<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complete Responsive Test - Professional Portfolio</title>
    
    <!-- CSS Files -->
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/responsive.css">
    
    <style>
        .test-results {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--color-surface);
            border: 2px solid var(--color-accent);
            border-radius: 8px;
            padding: var(--space-4);
            max-width: 300px;
            z-index: 10000;
            font-size: var(--font-size-small);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }
        
        .test-status {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            margin-bottom: var(--space-2);
        }
        
        .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            flex-shrink: 0;
        }
        
        .status-pass { background: #10b981; }
        .status-fail { background: #ef4444; }
        .status-warn { background: #f59e0b; }
        
        .viewport-info {
            background: var(--color-gray-100);
            padding: var(--space-2);
            border-radius: 4px;
            margin-bottom: var(--space-3);
            font-family: var(--font-family-mono);
        }
        
        .test-section-demo {
            margin: var(--space-8) 0;
            padding: var(--space-6);
            border: 2px dashed var(--color-gray-300);
            border-radius: 8px;
        }
        
        .demo-grid {
            display: grid;
            gap: var(--space-4);
            margin: var(--space-4) 0;
        }
        
        .demo-item {
            background: linear-gradient(135deg, var(--color-accent), #ea580c);
            color: white;
            padding: var(--space-4);
            border-radius: 8px;
            text-align: center;
            font-weight: 600;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .touch-demo {
            background: var(--color-primary);
            color: white;
            border: none;
            padding: var(--space-3) var(--space-6);
            border-radius: 8px;
            font-size: var(--font-size-body);
            cursor: pointer;
            transition: all var(--transition-fast);
            min-height: 44px;
            min-width: 44px;
            margin: var(--space-2);
        }
        
        .touch-demo:hover {
            background: var(--color-gray-800);
            transform: translateY(-2px);
        }
        
        .touch-demo:active {
            transform: translateY(0);
            background: var(--color-accent);
        }
        
        .responsive-image {
            width: 100%;
            height: auto;
            max-width: 400px;
            border-radius: 8px;
            background: linear-gradient(45deg, var(--color-gray-200), var(--color-gray-300));
            aspect-ratio: 16/9;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--color-gray-600);
            font-weight: 600;
        }
    </style>
</head>
<body>
    <!-- Test Results Panel -->
    <div class="test-results" id="test-results">
        <div class="viewport-info" id="viewport-info">
            Loading...
        </div>
        <div id="test-status-list">
            <!-- Test statuses will be populated here -->
        </div>
        <button onclick="runAllTests()" style="width: 100%; margin-top: var(--space-2);" class="btn btn-small btn-accent">
            Run Tests
        </button>
    </div>

    <!-- Navigation Header -->
    <header class="header" id="header">
        <nav class="nav">
            <div class="nav-brand">
                <h1 class="nav-title">Responsive Test</h1>
            </div>
            <ul class="nav-menu" id="nav-menu">
                <li class="nav-item"><a href="#grid-demo" class="nav-link">Grid</a></li>
                <li class="nav-item"><a href="#typography-demo" class="nav-link">Typography</a></li>
                <li class="nav-item"><a href="#touch-demo" class="nav-link">Touch</a></li>
                <li class="nav-item"><a href="#image-demo" class="nav-link">Images</a></li>
                <li class="nav-item"><a href="#navigation-demo" class="nav-link">Navigation</a></li>
            </ul>
            <button class="theme-toggle" id="theme-toggle" aria-label="Toggle dark mode">
                <span class="theme-toggle-icon">üåô</span>
            </button>
            <button class="nav-toggle" id="nav-toggle" aria-label="Toggle navigation menu">
                <span class="nav-toggle-line"></span>
                <span class="nav-toggle-line"></span>
                <span class="nav-toggle-line"></span>
            </button>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="main" style="padding-top: var(--header-height);">
        
        <!-- Hero Section Demo -->
        <section class="section hero" id="hero-demo">
            <div class="container">
                <div class="hero-content">
                    <h1 class="hero-title">Responsive Design Test</h1>
                    <p class="hero-subtitle">Testing responsive behavior across all breakpoints and devices</p>
                    <div class="hero-contact">
                        <a href="#" class="contact-link">Test Link 1</a>
                        <a href="#" class="contact-link">Test Link 2</a>
                        <a href="#" class="contact-link">Test Link 3</a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Grid System Demo -->
        <section class="test-section-demo" id="grid-demo">
            <div class="container">
                <h2>Grid System Responsiveness</h2>
                <p>These grids should adapt based on screen size:</p>
                
                <h3>4-Column Grid ‚Üí 2-Column ‚Üí 1-Column</h3>
                <div class="demo-grid grid-cols-4">
                    <div class="demo-item">1</div>
                    <div class="demo-item">2</div>
                    <div class="demo-item">3</div>
                    <div class="demo-item">4</div>
                    <div class="demo-item">5</div>
                    <div class="demo-item">6</div>
                    <div class="demo-item">7</div>
                    <div class="demo-item">8</div>
                </div>
                
                <h3>3-Column Grid ‚Üí 2-Column ‚Üí 1-Column</h3>
                <div class="demo-grid grid-cols-3">
                    <div class="demo-item">A</div>
                    <div class="demo-item">B</div>
                    <div class="demo-item">C</div>
                    <div class="demo-item">D</div>
                    <div class="demo-item">E</div>
                    <div class="demo-item">F</div>
                </div>
                
                <h3>Auto-Fit Grid (Responsive)</h3>
                <div class="demo-grid grid-auto-fit">
                    <div class="demo-item">Auto 1</div>
                    <div class="demo-item">Auto 2</div>
                    <div class="demo-item">Auto 3</div>
                    <div class="demo-item">Auto 4</div>
                </div>
            </div>
        </section>

        <!-- Typography Demo -->
        <section class="test-section-demo" id="typography-demo">
            <div class="container">
                <h2>Typography Scaling</h2>
                <p>Text should scale appropriately for readability:</p>
                
                <h1 class="typography-display">Display Text (Scales Down)</h1>
                <h2 class="typography-h1">Heading 1 (Responsive)</h2>
                <h3 class="typography-h2">Heading 2 (Responsive)</h3>
                <h4 class="typography-h3">Heading 3 (Responsive)</h4>
                <p class="typography-body-large">Large body text for important content</p>
                <p class="typography-body">Regular body text for reading</p>
                <p class="typography-small">Small text for captions and metadata</p>
            </div>
        </section>

        <!-- Touch Targets Demo -->
        <section class="test-section-demo" id="touch-demo">
            <div class="container">
                <h2>Touch Target Testing</h2>
                <p>All interactive elements should be at least 44x44px on mobile:</p>
                
                <div style="margin: var(--space-4) 0;">
                    <button class="touch-demo">Touch Target 1</button>
                    <button class="touch-demo">Touch Target 2</button>
                    <button class="touch-demo">Touch Target 3</button>
                </div>
                
                <div class="stack-responsive stack-gap-4">
                    <button class="btn btn-primary">Primary Button</button>
                    <button class="btn btn-secondary">Secondary Button</button>
                    <button class="btn btn-accent">Accent Button</button>
                </div>
                
                <div style="margin-top: var(--space-4);">
                    <button class="btn btn-icon btn-primary" style="margin: var(--space-2);">üè†</button>
                    <button class="btn btn-icon btn-secondary" style="margin: var(--space-2);">‚≠ê</button>
                    <button class="btn btn-icon btn-accent" style="margin: var(--space-2);">‚ù§Ô∏è</button>
                </div>
            </div>
        </section>

        <!-- Image Responsiveness Demo -->
        <section class="test-section-demo" id="image-demo">
            <div class="container">
                <h2>Image Responsiveness</h2>
                <p>Images should scale properly and maintain aspect ratios:</p>
                
                <div class="grid grid-cols-2" style="margin: var(--space-4) 0;">
                    <div class="responsive-image">Responsive Image 1</div>
                    <div class="responsive-image">Responsive Image 2</div>
                </div>
                
                <div class="responsive-image" style="margin: var(--space-4) 0;">
                    Full Width Responsive Image
                </div>
            </div>
        </section>

        <!-- Navigation Demo -->
        <section class="test-section-demo" id="navigation-demo">
            <div class="container">
                <h2>Navigation Testing</h2>
                <p>Test navigation behavior at different screen sizes:</p>
                
                <ul>
                    <li><strong>Desktop (1024px+):</strong> Horizontal navigation menu visible</li>
                    <li><strong>Mobile (767px-):</strong> Hamburger menu with slide-out navigation</li>
                    <li><strong>Touch:</strong> Menu items should be easy to tap (44px minimum)</li>
                    <li><strong>Keyboard:</strong> Navigation should work with Tab and arrow keys</li>
                    <li><strong>Accessibility:</strong> Proper ARIA attributes and focus management</li>
                </ul>
                
                <p style="margin-top: var(--space-4);">
                    <strong>Test Instructions:</strong>
                </p>
                <ol>
                    <li>Resize browser window to test different breakpoints</li>
                    <li>On mobile, tap the hamburger menu (‚ò∞) to open navigation</li>
                    <li>Test keyboard navigation with Tab key</li>
                    <li>Verify smooth scrolling when clicking navigation links</li>
                    <li>Check that menu closes when clicking outside or on a link</li>
                </ol>
            </div>
        </section>

    </main>

    <!-- JavaScript -->
    <script src="js/navigation.js"></script>
    <script src="js/responsive.test.js"></script>
    <script>
        // Test runner
        let testResults = {};
        
        function updateViewportInfo() {
            const info = document.getElementById('viewport-info');
            const width = window.innerWidth;
            const height = window.innerHeight;
            
            let breakpoint = 'Large Desktop';
            if (width <= 767) breakpoint = 'Mobile';
            else if (width <= 1023) breakpoint = 'Tablet';
            else if (width <= 1439) breakpoint = 'Desktop';
            
            info.innerHTML = `
                <strong>${breakpoint}</strong><br>
                ${width} √ó ${height}px<br>
                DPR: ${window.devicePixelRatio || 1}
            `;
        }
        
        function runAllTests() {
            console.log('üîç Running responsive design tests...');
            
            testResults = {
                gridSystem: testGridSystem(),
                typography: testTypography(),
                navigation: testNavigation(),
                touchTargets: testTouchTargets(),
                images: testImages()
            };
            
            updateTestStatus();
        }
        
        function testGridSystem() {
            const width = window.innerWidth;
            const grids = document.querySelectorAll('.grid-cols-4, .grid-cols-3, .grid-cols-2');
            let passed = 0;
            let total = grids.length;
            
            grids.forEach(grid => {
                const style = window.getComputedStyle(grid);
                const columns = style.gridTemplateColumns.split(' ').length;
                
                let expected = 1;
                if (grid.classList.contains('grid-cols-4')) {
                    if (width > 1023) expected = 4;
                    else if (width > 767) expected = 2;
                } else if (grid.classList.contains('grid-cols-3')) {
                    if (width > 1023) expected = 3;
                    else if (width > 767) expected = 2;
                } else if (grid.classList.contains('grid-cols-2')) {
                    if (width > 767) expected = 2;
                }
                
                if (columns === expected) passed++;
            });
            
            return { passed, total, success: passed === total };
        }
        
        function testTypography() {
            const elements = [
                { selector: '.hero-title', minSize: window.innerWidth <= 767 ? 32 : 48 },
                { selector: 'h2', minSize: window.innerWidth <= 767 ? 24 : 28 },
                { selector: 'h3', minSize: window.innerWidth <= 767 ? 20 : 24 }
            ];
            
            let passed = 0;
            let total = elements.length;
            
            elements.forEach(({ selector, minSize }) => {
                const element = document.querySelector(selector);
                if (element) {
                    const fontSize = parseFloat(window.getComputedStyle(element).fontSize);
                    if (fontSize >= minSize) passed++;
                }
            });
            
            return { passed, total, success: passed === total };
        }
        
        function testNavigation() {
            const navMenu = document.querySelector('.nav-menu');
            const navToggle = document.querySelector('.nav-toggle');
            const width = window.innerWidth;
            const isMobile = width <= 767;
            
            if (!navMenu || !navToggle) return { success: false, error: 'Navigation elements not found' };
            
            const menuStyle = window.getComputedStyle(navMenu);
            const toggleStyle = window.getComputedStyle(navToggle);
            
            const hamburgerVisible = toggleStyle.display !== 'none';
            const menuPositioned = isMobile ? menuStyle.position === 'fixed' : true;
            
            const success = isMobile ? hamburgerVisible && menuPositioned : !hamburgerVisible;
            
            return { 
                success, 
                hamburgerVisible, 
                menuPositioned, 
                isMobile,
                passed: success ? 1 : 0,
                total: 1
            };
        }
        
        function testTouchTargets() {
            if (window.innerWidth > 767) return { success: true, passed: 1, total: 1 }; // Skip on desktop
            
            const interactive = document.querySelectorAll('button, a, input, [role="button"]');
            let passed = 0;
            let total = interactive.length;
            
            interactive.forEach(element => {
                const rect = element.getBoundingClientRect();
                const style = window.getComputedStyle(element);
                
                const width = Math.max(rect.width, parseFloat(style.minWidth) || 0);
                const height = Math.max(rect.height, parseFloat(style.minHeight) || 0);
                
                if (width >= 44 && height >= 44) passed++;
            });
            
            return { passed, total, success: passed / total >= 0.9 }; // 90% pass rate
        }
        
        function testImages() {
            const images = document.querySelectorAll('img, .responsive-image');
            let passed = 0;
            let total = images.length;
            
            images.forEach(img => {
                const style = window.getComputedStyle(img);
                const maxWidth = style.maxWidth;
                
                if (maxWidth === '100%' || maxWidth.includes('%') || style.width === '100%') {
                    passed++;
                }
            });
            
            return { passed, total, success: passed === total };
        }
        
        function updateTestStatus() {
            const statusList = document.getElementById('test-status-list');
            statusList.innerHTML = '';
            
            Object.entries(testResults).forEach(([testName, result]) => {
                const status = document.createElement('div');
                status.className = 'test-status';
                
                const indicator = document.createElement('div');
                indicator.className = `status-indicator ${result.success ? 'status-pass' : 'status-fail'}`;
                
                const text = document.createElement('span');
                text.textContent = `${testName}: ${result.passed || 0}/${result.total || 1}`;
                
                status.appendChild(indicator);
                status.appendChild(text);
                statusList.appendChild(status);
            });
        }
        
        function setupThemeToggle() {
            const themeToggle = document.getElementById('theme-toggle');
            const themeIcon = document.querySelector('.theme-toggle-icon');
            
            themeToggle.addEventListener('click', () => {
                const currentTheme = document.documentElement.getAttribute('data-theme');
                const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
                
                document.documentElement.setAttribute('data-theme', newTheme);
                themeIcon.textContent = newTheme === 'dark' ? 'üåô' : '‚òÄÔ∏è';
                
                localStorage.setItem('theme', newTheme);
            });
            
            // Load saved theme
            const savedTheme = localStorage.getItem('theme') || 'dark';
            document.documentElement.setAttribute('data-theme', savedTheme);
            themeIcon.textContent = savedTheme === 'dark' ? 'üåô' : '‚òÄÔ∏è';
        }
        
        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            updateViewportInfo();
            setupThemeToggle();
            runAllTests();
            
            // Update on resize
            let resizeTimeout;
            window.addEventListener('resize', () => {
                clearTimeout(resizeTimeout);
                resizeTimeout = setTimeout(() => {
                    updateViewportInfo();
                    runAllTests();
                }, 250);
            });
        });
        
        // Touch feedback for demo buttons
        document.querySelectorAll('.touch-demo').forEach(button => {
            button.addEventListener('click', function() {
                this.style.background = '#10b981';
                this.textContent = 'Touched!';
                
                setTimeout(() => {
                    this.style.background = '';
                    this.textContent = this.textContent.replace('Touched!', this.textContent.includes('1') ? 'Touch Target 1' : this.textContent.includes('2') ? 'Touch Target 2' : 'Touch Target 3');
                }, 1000);
            });
        });
    </script>
</body>
</html>